# 인증

## 1. INTRO

### 인증이란?

- 사용자가 자신을 식별하는 과정
- 대표적인 예로는 사용자가 아이디와 비밀번호를 입력하여 시스템에 로그인하는 과정이 이에 해당된다.

### 인가?

- 인증된 사용자가 시스템 또는 리소스에 대해 접근할 수 있는지 결정하는 과정
- 즉, 사용자가 로그인했다고 해도 시스템 내에서 어떤 작업을 수행할 수 있는지는 인가에 의해 결정도니다.
- 예를 들어, 관리자 권한을 가진 사용자는 시스템의 설정을 변경할 수 있겠지만, 일반 사용자는 불가능할 것이다.

> 간단히 말해, 인증은 사용자가 누구인지를 확인하는 과정이고, 인가는 사용자가 무엇을 할 수 있는지 결정하는 과정이다.

### 쿠키?세션?JWT

- 웹 개발에서 사용되는 인증 및 상태 유지를 위한 메커니즘이다.
- HTTP의 특성(무상태, 비연결성) 때문에 필요하다..!

## 2. 쿠키

### 쿠키란?

- 웹 서버와 브라우저 사이에 상태 정보를 유지하고 전달하기 위한 작은 데이터 조각이다.
- 클라이언트 측에 저장되며, 클라이언트와 서버 간의 상태를 유지하는 데 사용된다.

### 동작 과정

- 클라이언트가 서버에 HTTP 요청을 보내면, 서버는 응답으로 쿠키를 생성하고 클라이언트에 전송한다.
- 클라이언트는 받은 쿠키를 저장한다.
- 이후 클라이언트가 같은 서버에 다시 요청을 보낼 때, 해당 서버에 저장된 쿠키를 함께 전송한다.
  - cookie.setDomain(), setPath() 등으로 설정한 서버
- 서버는 클라이언트가 전송한 쿠키를 읽고 사용자를 식별한다. 이를 통해 사용자는 로그인 상태를 유지할 수 있다.

## 3. 세션

### 세션이란?

- 웹 애플리케이션에서 사용자의 상태를 유지하고 관리하기 위한 메커니즘이다.

### 동작 과정

- 사용자가 웹 애플리케이션에 접속하면, 클라이언트는 서버에 HTTP 요청을 보낸다.
- 서버는 클라이언트가 세션 식별자를 가지고 있지 않거나, 만료된 경우 새로운 세션을 생성한다.
- 서버는 클라이언트에게 고유한 세션 식별자를 생성하여 반환한다. 일반적으로 URL이나 쿠키를 통해 전달된다.
- 서버는 세션 식별자와 관련된 데이터를 서버 메모리 또는 데이터베이스에 저장한다.
- 이후부터 클라이언트는 요청에서 세션을 식별할 수 있다.
- 클라이언트가 요청을 보낼 때마다, 서버는 세션 식별자를 검사하고 해당 세션에 저장된 정보를 사용하여 요청을 처리한다.
- 사용자가 로그아웃하거나 세션 만료 시간이 지나면, 서버는 해당 세션을 종료하고 세션 데이터를 삭제한다.

### 특징

- 쿠키 로그인 방식과는 달리 세션의 Key값이 예측 불가능하기 때문에 다른 사용자인 것 처럼 요청을 보내는 것이 불가능 하다는 장점이 있지만 동시 사용자 수가 많아진다면 서버에 저장해야 할 세션의 수가 많아진다는 단점도 존재
- HttpSession 어떻게 동작하는지(https://oh-sh-2134.tistory.com/111)

## 4. 정리

정리하자면 `인증(Authentication)` 은 사용자의 신원을 확인하는 과정이다. 주로 시스템에 로그인하는 것이 해당될 것이다. 사용자가 제공한 아이디와 비밀번호가 유효하면, 시스템은 사용자를 인증하고, 사용자를 식별할 수 있는 고유한 식별자(세션 식별자, 토큰 등)을 부여한다.

흔히 말하는 세션 기반, 토큰 기반 방법들은 인증 정보를 검증한 후에 사용자의 상태를 유지하는 방법들이다.
