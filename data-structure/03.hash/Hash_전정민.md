# 해시 테이블

## 1. 해시(Hash)

### 해시란?

* 특정 함수(알고리즘)을 통해서 값을 추출하고 활용하는 것이다.
* 함수를 어떻게 구현하는지에 따라 사용 용도와 성능이 달라진다.

### 해시 값 / 해시 코드

* 입력 데이터를 고정된 길이의 데이터로 변환한 값이다.
* 간단히 말하자면, 데이터의 KEY 값이 해시 함수를 통해서 변환된 간단한 정수이다.
* 이는 배열의 인덱스, 위치, 데이터 값을 저장하거나 검색할 때 활용된다.


## 2. 해시테이블(Hash Table)

### 개념

* (Key, Value)로 데이터를 저장하는 자료구조 중 하나로 빠르게 데이터를 검색할 수 있다.
* 해시 맵, 맵, 딕셔너리 등으로 알려져있다.
* 각각의 Key 값에 해시함수를 적용해서 고유의 index를 생성하고, 이 index를 활용한다.

> 원래 데이터 값(KEY) -> Hash Function -> 결과(Hash Code) -> 결과를 배열의 Index로 사용 -> 해당하는 Index에 data 저장

### 예시

![img](../img/%ED%95%B4%EC%8B%9C%ED%85%8C%EC%9D%B4%EB%B8%94.png)

* 전체 데이터 양을 10이라고 한다.
* John의 데이터를저장할 때 인덱스는 hashFunction("John") % 10이다. 여기서는 2이다.
* 이런식으로 데이터를 저장하다 보면 인덱스 값이 중복될 수 있다. 이를 충돌(collision)이라고 한다.

## 3. 충돌(Collision)

* 충돌은 서로 다른 문자열이 해시 함수를 통해서 같은 해시 코드를 반환하는 경우이다.
* 이를 해결하기 위한 방법은 크게 분리 연결법(Separate Chaining)과 개방 주소법(Open Addressing)이 있다.

### 분리 연결법(Separate Chaining)

![img](../img/%ED%95%B4%EC%8B%9C%ED%85%8C%EC%9D%B4%EB%B8%942.png)

* 해시 테이블 외에 추가적인 공간을 활용하는 방법
    * Linked list, Tree(Red-Black Tree)
    * 데이터의 개수에 따라 연결리스트, 트리를 다르게 사용한다.
    * 위 사진은 연결리스트를 사용한 방식이다.
* 인덱스가 충돌이 일어날 때, 인덱스가 가리키고 있는 linked list에 노드를 추가하여 값을 삽입한다.
* 탐색, 삭제도 인덱스가 가리키고 있는 linked list에서 수행한다.

### 개방 주소법(Open Addressing)

![img](../img/%ED%95%B4%EC%8B%9C%ED%85%8C%EC%9D%B4%EB%B8%943.png)

* 추가적인 메모리 공간을 사용하지 않고, hash table array의 빈공간을 사용하는 방법이다.
* 삽입: 계산한 해시 값에 대한 인덱스가 이미 차있는 경우 다음 인덱스로 이동하면서 비어있는 곳에 저장한다. 이렇게 비어있는 자리를 탐색하는 것을 탐사(Probing)라고 한다.
* 탐색: 계산한 해시 값에 대한 인덱스부터 검사하며 탐사를 해나가는데 이 때 '삭제' 표시가 있는 부분은 지나간다.
* 삭제: 탐색을 통해 해당 값을 찾고 삭제한 뒤 '삭제' 표시를 한다.

## 4. 해시 테이블 vs 해시 맵(In Java)

* 둘의 차이는 동기화 지원 여부, null 값 허용 여부에 있다.
* 해시 테이블의 put의 경우 synchronized 라는 키워드가 붙어있는데, 이는 병렬 프로그래밍을 할 때 동기화를 지원해준다는 것을 의미한다. 동기화 오버헤드로 인해 해시 맵보다 성능이 떨어질 수 있다.
* 해시 테이블은 Null값을 허용하지 않고 해시 맵은 Null값을 허용한다.

> 동기화된 자료구조: 멀티스레드 환경에서 안전하게 사용할 수 있는 자료구조

## 5. 면접 질문

무수히 긴 스트링 값이 있을 때, 거기서 해당 단어가 있는지 없는지 확인하고자 한다면?
<br>
좋은 해시 함수의 조건은?


# 출처

https://baeharam.netlify.app/posts/data%20structure/hash-table<br>
https://mangkyu.tistory.com/102<br>
https://kang-james.tistory.com/136<br>
https://hee96-story.tistory.com/48<br>